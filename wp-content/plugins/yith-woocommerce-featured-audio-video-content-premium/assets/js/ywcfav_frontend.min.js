jQuery(document).ready(function(a){var e=a(document).find(ywcfav_params.img_class_container+".yith_featured_content,"+ywcfav_params.img_class_container+".ywcfav_video_modal_container"),t=a(document).find(ywcfav_params.img_class_container).length>1;e.each(function(){var e=a(this).index(),t=null;t=a(this).hasClass("ywcfav_video_modal_container")?a(this):a(this).find(".ywcfav-audio-content iframe,.ywcfav-video-content iframe,.ywcfav-video-content div.iframe,.ywcfav-video-content video, .ywcfav_video_embedded_iframe"),t=a(t[0]);var i=a(ywcfav_params.thumbnail_gallery_class_element).get(e),r=t.attr("id");r=r.replace("_html5_api",""),a(i).addClass("yith_featured_thumbnail"),a(i).find("img").attr("id",r)}),a(".variations_form.cart").on("show_variation",function(e,t){setTimeout(function(){var e=void 0!==t.variation_video&&t.variation_video;if(e){a(ywcfav_params.thumbnail_gallery_class_element).find("img#"+e).trigger("click")}else{var r=a(document).find(ywcfav_params.thumbnail_gallery_class_element).find('img[src="'+t.image.gallery_thumbnail_src+'"]'),o=a(document).find(ywcfav_params.img_class_container).get(0);a(o).length&&(a(o).hasClass("yith_featured_content")||a(o).hasClass("ywcfav_video_modal_container"))&&i(a(o),t),r.trigger("click")}},101)}).on("reset_data",function(e){setTimeout(function(){var e=a(document).find(ywcfav_params.img_class_container+ywcfav_args.current_slide_active_class);0==e.index()&&e.hasClass("yith_featured_content")&&r(e),a(window).trigger("resize"),e.trigger("woocommerce_gallery_init_zoom")},100)});var i=function(e,i){var r=e.find('div[class^="ywcfav"]:eq(0)'),o=a("<a>"),_=a("<img>"),n=a(ywcfav_params.thumbnail_gallery_class_element).get(0),s=!1;if(r.length||((r=e.find("a.ywcfav_show_modal")).parent().removeClass("ywcfav_video_modal_container"),s=!0),a(ywcfav_args.product_gallery_trigger_class).show(),r.hide(),a(n).removeClass("yith_featured_thumbnail"),!t&&e.find("a.ywfav_zoom_image").length&&e.find("a.ywfav_zoom_image").remove(),!e.find("a.ywfav_zoom_image").length&&(o.attr("href",i.image.full_src),o.addClass("ywfav_zoom_image"),_.attr("src",i.image.src),_.attr("height",i.image.src_h),_.attr("width",i.image.src_w),_.attr("srcset",i.image.srcset),_.attr("sizes",i.image.sizes),_.attr("title",i.image.title),_.attr("data-caption",i.image.caption),_.attr("alt",i.image.alt),_.attr("data-src",i.image.full_src),_.attr("data-large_image",i.image.full_src),_.attr("data-large_image_width",i.image.full_src_w),_.attr("data-large_image_height",i.image.full_src_h),_.addClass("ywfav_zoom_image"),o.append(_),s?o.insertBefore(e.find("a.ywcfav_show_modal")):e.append(o),void 0!==e.zoom)){e.trigger("zoom.destroy");var c=a.extend({touch:!1,url:i.image.full_src},ywcfav_params.zoom_options);"ontouchstart"in document.documentElement&&(c.on="click"),"undefined"!=typeof zoom&&e.zoom(c)}},r=function(e){e.trigger("zoom.destroy"),e.find(".ywfav_zoom_image").remove();var t=a(ywcfav_params.thumbnail_gallery_class_element).get(0),i=e.find('div[class^="ywcfav"]:eq(0)');if(e.find("a.ywcfav_show_modal").length){e.find("a.ywcfav_show_modal").show(),e.addClass("ywcfav_video_modal_container");var r=e.find("a.ywcfav_show_modal");r.attr("href",r.data("o_href"))}a(t).addClass("yith_featured_thumbnail"),i.show(),a(ywcfav_args.product_gallery_trigger_class).hide(),a(window).trigger("resize"),a(e).trigger("woocommerce_gallery_init_zoom"),i.trigger("woocommerce_gallery_init_zoom")},o=a(".woocommerce-product-gallery").data("flexslider");if(o){o.vars.before=function(e){var t=e.currentSlide,i=a(ywcfav_params.thumbnail_gallery_class_element).find("img").get(t);a(i).parent("li").hasClass("yith_featured_thumbnail")&&a(document).trigger("ywcfav_before_slide_show",a(i).attr("id"))};var _=o.vars.after;o.vars.after=function(e){_(e);var t=e.currentSlide,i=a(ywcfav_params.thumbnail_gallery_class_element).find("img").get(t),r=void 0!==a(i).attr("id")&&a(i).attr("id");a(document).trigger("ywcfav_after_slide_show",r),setTimeout(function(){a(window).trigger("resize")},100)}}});