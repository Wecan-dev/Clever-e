/*!
* WP Grid Builder Plugin
*
* @package   WP Grid Builder
* @author    Loïc Blascos
* @link      https://www.wpgridbuilder.com
* @copyright 2019-2020 Loïc Blascos
*
*/
!function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}"function"!=typeof window.CustomEvent&&(t.prototype=window.Event.prototype,window.CustomEvent=t)}(),function(o){"use strict";window.addEventListener("wpgb.loaded",function(){var t=WP_Grid_Builder.instance(1);wpgb_preview_settings.is_selector&&o("html").css("overflow-y","scroll");function i(t,e,i){if(t){var o=new CustomEvent(e,{detail:i});t.dispatchEvent(o)}}function e(){var t=o(".wpgb-select-item"),e=o(".wpgb-select-item:checked");t.serializeArray(),i(window.parent,"wpgb_preview_select_item.wpgb",{wpgb:!0,total:t.length,selected:e.length,ids:e.map(function(){return o(this).val()}).get()})}o(".wpgb-cards-overview .wpgb-card-wrapper a").attr("tabindex","-1"),i(window.parent,"wpgb_preview_loaded.wpgb",t.options),i(window.parent,"wpgb_preview_resized.wpgb",t.options),t.grid.on("layout",function(){i(window.parent,"wpgb_preview_resized.wpgb",t.options)}),o(document).on("click","a:not(.wpgb-lightbox):not(.wpgb-error-msg a):not(.wpgb-admin-card-header a):not([data-page])",function(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()}),o(document).on("click",".wpgb-admin-card-header a[href]",function(t){t.preventDefault(),i(window.parent,"wpgb_preview_edit_item.wpgb",{url:o(this).attr("href"),target:o(this).attr("target")})}),o(document).on("change",".wpgb-select-item",function(t){e()}),o(document).on("click","[data-action]",function(t){"select"===o(this).data("action")?i(window.parent,"wpgb_preview_select_card.wpgb",{id:o(this).parent().data("id"),name:o(this).prev().text(),wpgb:!0}):e()}),window.parent.addEventListener("wpgb_preview_select_all.wpgb",function(t){o(".wpgb-select-item").prop("checked",!!t.detail),e()}),o(document).on("click",".wpgb-admin-card-header [data-action], .wpgb-edit-card",function(t){var e=o(this);"select"!==e.data("action")&&i(window.parent,"wpgb_preview_action.wpgb",{nonce:e.data("nonce"),action:e.data("action")||"edit",id:e.attr("data-id")||e.closest(".wpgb-admin-card-header").attr("data-id"),type:e.attr("data-type")})})})}(jQuery),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports&&module.exports?module.exports=e():t.WPGB_Tooltip=e()}(window,function(){"use strict";function t(t){t.wpgb_tooltip||t.getAttribute("aria-label")&&(this.element=t,this.event=this.leave.bind(this),this.method=this.element.getAttribute("data-method"),this.layout=this.element.getAttribute("data-layout"),this.element.wpgb_tooltip=1,"click"===this.method?this.element.addEventListener("click",this.reveal.bind(this),!1):(this.element.addEventListener("mouseenter",this.reveal.bind(this),!1),this.element.addEventListener("mouseleave",this.leave.bind(this),!1),this.element.addEventListener("focus",this.reveal.bind(this),!1),this.element.addEventListener("blur",this.leave.bind(this),!1)))}var i=function(){var t=document.createElement("div"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var i in e)if(e.hasOwnProperty(i)&&void 0!==t.style[i])return t=null,e[i]}(),e=t.prototype;return e.create=function(){this.tooltip=document.createElement("div"),this.tooltip.className="wpgb-tooltip",this.tooltip.className+=this.layout?" wpgb-tooltip-"+this.layout:"",this.tooltip.textContent=this.element.getAttribute("aria-label"),this.tooltip.appendChild(document.createElement("span")),document.body.appendChild(this.tooltip)},e.reveal=function(){this.tooltip||(this.create(),this.position()),"click"===this.method&&(document.addEventListener("click",this.event,!1),window.addEventListener("resize",this.event,!1)),this.tooltip.classList.add("wpgb-show")},e.leave=function(t){if(this.tooltip){var e=window.getComputedStyle(this.tooltip).visibility;"click"===this.method&&"visible"!==e&&t.target===this.element||("visible"===e?(this.tooltip.addEventListener(i,this.remove.bind(this),!1),this.tooltip.classList.remove("wpgb-show")):this.remove(),"click"===this.method&&(document.removeEventListener("click",this.event,!1),window.removeEventListener("resize",this.event,!1)))}},e.remove=function(t){!this.tooltip||!this.tooltip.parentNode||t&&"visibility"!==t.propertyName||(this.tooltip=this.tooltip.parentNode.removeChild(this.tooltip),this.tooltip=null)},e.position=function(){var t=this.tooltip.offsetWidth,e=this.element.getBoundingClientRect(),i=e.left+(e.width-t)/2;i+t>document.body.clientWidth?i=(i=e.left-t+e.width)<0?0:i:i<0&&(i=e.left),this.tooltip.style.left=i+"px";var o=e.left+e.width/2-i,n=e.top-this.tooltip.offsetHeight-5,a=document.querySelector("#wpadminbar");n<(a?a.clientHeight:0)&&(n=e.bottom+5,this.tooltip.firstElementChild.className="top"),this.tooltip.firstElementChild.style.left=o+"px",this.tooltip.style.top=n+window.pageYOffset+"px"},t});var WPGB_Tooltip_Init=function(){for(var t=document.querySelectorAll(".wpgb-tooltip"),e=document.querySelectorAll("[data-tooltip]"),i=0,o=t.length;i<o;i++)t[i]=document.body.removeChild(t[i]),t[i]=null;for(i=0,o=e.length;i<o;i++)new WPGB_Tooltip(e[i])};WPGB_Tooltip_Init();